<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Samuel Gonzalez Benites">
<meta name="author" content="Alejandro Emiliano Gaytan Jaramillo">
<meta name="author" content="Alessandro Perez Piña">
<meta name="author" content="Jaime Patricio Guido Rivera">
<meta name="author" content="Mikel Augusto Marin Rodriguez">
<meta name="author" content="Cesar Emiliano Villalobos De La Miyar">

<title>CETES</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="index_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<style>

      .quarto-title-block .quarto-title-banner {
        background: black-blue;
      }
</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="quarto-light">

<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">CETES</h1>
                      </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-heading">Affiliation</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author">Samuel Gonzalez Benites </p>
    </div>
    <div class="quarto-title-meta-contents">
          <p class="affiliation">
              Escuela de Estudios Superiores Interdisciplinarios
            </p>
        </div>
      <div class="quarto-title-meta-contents">
      <p class="author">Alejandro Emiliano Gaytan Jaramillo </p>
    </div>
    <div class="quarto-title-meta-contents">
        </div>
      <div class="quarto-title-meta-contents">
      <p class="author">Alessandro Perez Piña </p>
    </div>
    <div class="quarto-title-meta-contents">
        </div>
      <div class="quarto-title-meta-contents">
      <p class="author">Jaime Patricio Guido Rivera </p>
    </div>
    <div class="quarto-title-meta-contents">
        </div>
      <div class="quarto-title-meta-contents">
      <p class="author">Mikel Augusto Marin Rodriguez </p>
    </div>
    <div class="quarto-title-meta-contents">
        </div>
      <div class="quarto-title-meta-contents">
      <p class="author">Cesar Emiliano Villalobos De La Miyar </p>
    </div>
    <div class="quarto-title-meta-contents">
        </div>
    </div>

  <div class="quarto-title-meta">

        
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#certificados-de-la-tesorería-de-la-federación" id="toc-certificados-de-la-tesorería-de-la-federación" class="nav-link active" data-scroll-target="#certificados-de-la-tesorería-de-la-federación">CERTIFICADOS DE LA TESORERÍA DE LA FEDERACIÓN</a>
  <ul>
  <li><a href="#introducción" id="toc-introducción" class="nav-link" data-scroll-target="#introducción">Introducción</a></li>
  <li><a href="#metodo-general-para-valuar-los-cetes" id="toc-metodo-general-para-valuar-los-cetes" class="nav-link" data-scroll-target="#metodo-general-para-valuar-los-cetes">Metodo general para valuar los CETES</a>
  <ul class="collapse">
  <li><a href="#a-partir-de-la-tasa-de-rendimiento" id="toc-a-partir-de-la-tasa-de-rendimiento" class="nav-link" data-scroll-target="#a-partir-de-la-tasa-de-rendimiento">A partir de la tasa de rendimiento</a></li>
  <li><a href="#a-partir-de-la-tasa-de-descuento" id="toc-a-partir-de-la-tasa-de-descuento" class="nav-link" data-scroll-target="#a-partir-de-la-tasa-de-descuento">A partir de la Tasa de descuento</a></li>
  </ul></li>
  <li><a href="#ejemplo-práctico" id="toc-ejemplo-práctico" class="nav-link" data-scroll-target="#ejemplo-práctico">Ejemplo Práctico</a>
  <ul class="collapse">
  <li><a href="#a-calculemos-el-rendimiento-con-15.50" id="toc-a-calculemos-el-rendimiento-con-15.50" class="nav-link" data-scroll-target="#a-calculemos-el-rendimiento-con-15.50">a) Calculemos el rendimiento con 15.50%</a></li>
  <li><a href="#b-calculo-del-descuento-equivalente" id="toc-b-calculo-del-descuento-equivalente" class="nav-link" data-scroll-target="#b-calculo-del-descuento-equivalente">b) Calculo del descuento equivalente</a></li>
  </ul></li>
  <li><a href="#cetesdirecto" id="toc-cetesdirecto" class="nav-link" data-scroll-target="#cetesdirecto">Cetesdirecto</a></li>
  <li><a href="#distintos-tipos-de-bono-en-cetesdirecto" id="toc-distintos-tipos-de-bono-en-cetesdirecto" class="nav-link" data-scroll-target="#distintos-tipos-de-bono-en-cetesdirecto">Distintos tipos de bono en <strong>CETESDIRECTO</strong>:</a></li>
  <li><a href="#ejemplo" id="toc-ejemplo" class="nav-link" data-scroll-target="#ejemplo">Ejemplo:</a></li>
  <li><a href="#inversiónes-con-cetes" id="toc-inversiónes-con-cetes" class="nav-link" data-scroll-target="#inversiónes-con-cetes">Inversiónes con CETES</a>
  <ul class="collapse">
  <li><a href="#corto-plazo-1-día---1-año" id="toc-corto-plazo-1-día---1-año" class="nav-link" data-scroll-target="#corto-plazo-1-día---1-año">Corto Plazo (1 día - 1 año)</a></li>
  <li><a href="#mediano-plazo-1-5-años" id="toc-mediano-plazo-1-5-años" class="nav-link" data-scroll-target="#mediano-plazo-1-5-años">Mediano Plazo (1 – 5 años)</a></li>
  <li><a href="#largo-plazo-10-30-años" id="toc-largo-plazo-10-30-años" class="nav-link" data-scroll-target="#largo-plazo-10-30-años">Largo Plazo (10 – 30 años)</a></li>
  </ul></li>
  <li><a href="#como-maximizar-rendimientos-en-cetesdirecto" id="toc-como-maximizar-rendimientos-en-cetesdirecto" class="nav-link" data-scroll-target="#como-maximizar-rendimientos-en-cetesdirecto">¿Como maximizar rendimientos en cetesdirecto?</a></li>
  <li><a href="#metas-a-largo-plazo" id="toc-metas-a-largo-plazo" class="nav-link" data-scroll-target="#metas-a-largo-plazo">Metas a largo plazo</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="index.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">





<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="umich.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="150"></p>
</figure>
</div>
<section id="certificados-de-la-tesorería-de-la-federación" class="level1">
<h1>CERTIFICADOS DE LA TESORERÍA DE LA FEDERACIÓN</h1>
<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">Introducción</h2>
<p>Los Certificados de la Tesorería de la Federación (CETES) son el instrumento de deuda bursátil más antiguo emitido por Gobierno Federal. Se emitieron por primera vez en enero de 1978 y desde entonces constituyen un pilar fundamental en el desarrollo del mercado de dinero en México.</p>
</section>
<section id="metodo-general-para-valuar-los-cetes" class="level2">
<h2 class="anchored" data-anchor-id="metodo-general-para-valuar-los-cetes">Metodo general para valuar los CETES</h2>
<p>El precio de un <strong>CETE</strong> se puede calcular a partir de su tasa de rendimiento o de una tasa de descuento, el precio final puede variar ligeramente en función del número de cifras decimales que se ocupen.</p>
<section id="a-partir-de-la-tasa-de-rendimiento" class="level3">
<h3 class="anchored" data-anchor-id="a-partir-de-la-tasa-de-rendimiento">A partir de la tasa de rendimiento</h3>
<p>A partir de la <em>tasa de rendimiento</em>, el precio de un <strong>CETE</strong> se calcula utilizando la siguiente fórmula:</p>
<p><span class="math display">\[
P = \frac{VN}{1 + \frac{r \cdot t}{360}}
\]</span></p>
<p>donde</p>
<ul>
<li><span class="math inline">\(P\)</span> = Precio del CETE (redondeado a 7 decimales)</li>
<li><span class="math inline">\(VN\)</span> = Valor nominal del título en pesos</li>
<li><span class="math inline">\(r\)</span> = Tasa de rendimiento</li>
<li><span class="math inline">\(t\)</span> = Plazo en días del CETE</li>
</ul>
</section>
<section id="a-partir-de-la-tasa-de-descuento" class="level3">
<h3 class="anchored" data-anchor-id="a-partir-de-la-tasa-de-descuento">A partir de la Tasa de descuento</h3>
<p>Si <span class="math inline">\(b\)</span> es la <em>tasa de descuento</em> de un CETE se tiene que:</p>
<p><span class="math display">\[
b = \frac{r}{1 + \frac{r \cdot t}{360}}
\]</span></p>
<p>Despejando <span class="math inline">\(r\)</span> tenemos que:</p>
<p><span class="math display">\[
r = \frac{b}{1 - \frac{b \cdot t}{360}}
\]</span></p>
<p>Y sustituyendo la fórmula para calcular el precio de un CETE a partir de su tasa de descuento:</p>
<p><span class="math display">\[
P = VN \cdot \left(1 - \frac{b \cdot t}{360}\right)
\]</span></p>
<p>De la primera ecuación se desprende que el precio de los CETES está compuesto por un solo elemento: <em>El valor presente del principal (Valor Nominal)</em>.</p>
</section>
</section>
<section id="ejemplo-práctico" class="level2">
<h2 class="anchored" data-anchor-id="ejemplo-práctico">Ejemplo Práctico</h2>
<p><strong>1.</strong> El 31 de agosto de 2000 un inversionista compra CETES con las siguientes características:</p>
<ul>
<li>Valor Nominal: 10.00 pesos</li>
<li>Fecha de Colocación: 31 de agosto de 2000</li>
<li>Fecha de Vencimiento: 28 de septiembre de 2000</li>
<li>Días por vencer del título: 28 días</li>
</ul>
<p>Supongamos que dicho inversionista adquiere los títulos a un rendimiento anual de 15.50%. Para calcular el precio al cual tendrá que liquidar la operación, el inversionista tiene dos opciones: a) calcular el valor presente del principal a través de la tasa de rendimiento y b) calcular el precio a partir de la “tasa de descuento” que proporcione este rendimiento.</p>
<section id="a-calculemos-el-rendimiento-con-15.50" class="level3">
<h3 class="anchored" data-anchor-id="a-calculemos-el-rendimiento-con-15.50">a) Calculemos el rendimiento con 15.50%</h3>
<p>El precio de liquidación de cada título es:</p>
<p><span class="math display">\[
P = \frac{10}{\left(1 + \frac{0.1550 \times 28}{360}\right)} = \frac{10}{1.01205555556} = 9.8808805
\]</span></p>
</section>
<section id="b-calculo-del-descuento-equivalente" class="level3">
<h3 class="anchored" data-anchor-id="b-calculo-del-descuento-equivalente">b) Calculo del descuento equivalente</h3>
<p>El descuento equivalente a un rendimiento de 15.50% es:</p>
<p><span class="math display">\[
b = \frac{0.1550}{1 + \frac{0.1550 \times 28}{360}} = \frac{0.1550}{1.01205555556} = 0.1532 = 15.32\%
\]</span></p>
<p>Asi <span class="math display">\[
P = 10^4 \left( 1 - \frac{0.1532 \times 28}{360} \right) = 10^4 \cdot 0.98808444 = 9.88088444
\]</span></p>
</section>
</section>
<section id="cetesdirecto" class="level2">
<h2 class="anchored" data-anchor-id="cetesdirecto">Cetesdirecto</h2>
<p>Es una alternativa de inversión a través de instrumentos conocidos como “Bonos”</p>
<ul>
<li><strong>Bono:</strong> Es un instrumento de deuda (es decir, al comprarlo, estás prestando dinero al Gobierno), el cual paga intereses con una cierta frecuencia (periodo de interés) a una tasa que puede ser fija o variable durante el plazo del instrumento.</li>
<li><strong>Tasa de interés nominal:</strong> Es el porcentaje que se traduce en un monto de dinero, mediante el cual se paga por el uso del dinero y con el que se calcula el pago de intereses que se anuncia cualquier inversión. Esta se encuentra ligada a un plazo anual.</li>
<li><strong>Tasa de interés real:</strong> Es un porcentaje que se obtiene después de descontar a la tasa de interés nominal el efecto de la inflación en un periodo de tiempo, normalmente son positivas, lo que se traduce en que el rendimiento de la inversión fue superior al incremento en los precios.</li>
<li><strong>Tasa de rendimiento:</strong> Es la rentabilidad de una inversión durante un determinado período de tiempo.</li>
</ul>
</section>
<section id="distintos-tipos-de-bono-en-cetesdirecto" class="level2">
<h2 class="anchored" data-anchor-id="distintos-tipos-de-bono-en-cetesdirecto">Distintos tipos de bono en <strong>CETESDIRECTO</strong>:</h2>
<ul>
<li><strong>Bono cupón cero:</strong> Son aquellos bonos que no pagan intereses intermedios, es decir entre la fecha de compra y su vencimiento, si no que al vencimiento te devuelven el valor nominal, el cual es mayor al monto invertido dado que se compran a descuento, la diferencia entre el precio de compra y el valor nominal es tu ganancia.</li>
<li><strong>Bono a tasa fija:</strong> Este tipo de instrumentos pagan la misma tasa de interés desde su emisión hasta su vencimiento en cada periodo cupón.</li>
<li><strong>Bonos a tasa revisable:</strong> También llamados de tasa flotante, estos bonos actualizan su tasa de interés con la que pagan en cada periodo de pago de cupón. Es decir que actualizan su valor de acuerdo a una tasa de referencia, por ejemplo, la tasa de fondeo bancario, gubernamental, o de Cetes, con las condiciones vigentes del mercado.</li>
<li><strong>Bonos con protección contra la inflación:</strong> Los bonos con protección contra la inflación cuentan con mecanismos para que tus recursos no se vean afectados en periodos en que la inflación pueda ser alta.</li>
</ul>
</section>
<section id="ejemplo" class="level2">
<h2 class="anchored" data-anchor-id="ejemplo">Ejemplo:</h2>
<p>Alberto, padre de familia, busca ahorrar para la educación de sus hijos, cubrir las colegiaturas mensuales y realizar arreglos en su casa en algunos años. Aunque ya destina dinero a estos fines, desea aumentar el rendimiento de su ahorro.</p>
<ol type="1">
<li><strong>Colegiaturas (mensual):</strong> invierte en Cetes de corto plazo, lo que le permite generar intereses y contar con liquidez para pagar mes a mes.</li>
<li><strong>Arreglos en casa (3 años):</strong> ahorra en Bondes F a 3 años; a medida que se acerca el plazo, complementa con instrumentos de 1 año. Los intereses recibidos los reinvierte para incrementar su capital.</li>
<li><strong>Educación preparatoria (7 años):</strong> cada año destina parte de su aguinaldo a bonos BPA182, que ajustan su rendimiento con la inflación, protegiendo así el valor real de sus ahorros a largo plazo.</li>
</ol>
</section>
<section id="inversiónes-con-cetes" class="level2">
<h2 class="anchored" data-anchor-id="inversiónes-con-cetes">Inversiónes con CETES</h2>
<section id="corto-plazo-1-día---1-año" class="level3">
<h3 class="anchored" data-anchor-id="corto-plazo-1-día---1-año">Corto Plazo (1 día - 1 año)</h3>
<ul>
<li>Ejemplo: <strong>CETES 28, 91, 182 días</strong></li>
<li>Usos: renta, servicios, gastos médicos.</li>
<li>Rendimiento: <strong>6.8% – 7.6%</strong></li>
<li>Beneficio: liquidez rápida y segura.</li>
</ul>
</section>
<section id="mediano-plazo-1-5-años" class="level3">
<h3 class="anchored" data-anchor-id="mediano-plazo-1-5-años">Mediano Plazo (1 – 5 años)</h3>
<ul>
<li>Ejemplo: <strong>CETES 364 días, Bonos a 3 y 5 años, Udibonos</strong></li>
<li>Usos: colegiaturas, proyectos, compras grandes.</li>
<li>Rendimiento: <strong>7.0% – 9.0%</strong></li>
<li>Beneficio: objetivos anuales o de mayor costo.</li>
</ul>
</section>
<section id="largo-plazo-10-30-años" class="level3">
<h3 class="anchored" data-anchor-id="largo-plazo-10-30-años">Largo Plazo (10 – 30 años)</h3>
<ul>
<li>Ejemplo: <strong>Bonos y Udibonos a 10, 20 o 30 años</strong></li>
<li>Usos: retiro, vivienda, independencia.</li>
<li>Rendimiento: <strong>3.6% – 8.4%</strong></li>
<li>Beneficio: crecimiento patrimonial.</li>
</ul>
</section>
</section>
<section id="como-maximizar-rendimientos-en-cetesdirecto" class="level2">
<h2 class="anchored" data-anchor-id="como-maximizar-rendimientos-en-cetesdirecto">¿Como maximizar rendimientos en cetesdirecto?</h2>
<ol type="1">
<li>Invertir a largo plazo ofrece un beneficio extra en la tasa de interés conocido como “premio por plazo”.</li>
<li>Los instrumentos a tasa variable en México también incluyen un premio, protegiendo al inversionista frente a la inflación.</li>
<li>Gráficas muestran que invertir de manera constante a largo plazo genera mayores rendimientos que hacerlo solo a corto plazo.</li>
</ol>
</section>
<section id="metas-a-largo-plazo" class="level2">
<h2 class="anchored" data-anchor-id="metas-a-largo-plazo">Metas a largo plazo</h2>
<ol type="1">
<li>Al invertir, es importante considerar el impacto de la inflación.</li>
<li>Productos destacados de cetesdirecto:</li>
</ol>
<ul>
<li>BPA182: paga intereses semestrales; la tasa se actualiza según la inflación.</li>
<li>UDIBONO: está en UDIs (Unidades de Inversión), protege tu dinero porque se ajusta con la inflación.</li>
<li>Ambos productos ayudan a mantener y hacer crecer el valor real del dinero frente a la inflación.</li>
</ul>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<ul>
<li>Los <strong>CETES</strong> son una inversión <strong>segura</strong>, respaldada por el Gobierno de México.</li>
<li>Sirven tanto para <strong>ahorro de corto plazo</strong> como para proyectos a futuro.</li>
<li>Al reinvertir rendimientos y diversificar plazos → <strong>crece tu patrimonio y te preparas ante imprevistos</strong>.</li>
</ul>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>